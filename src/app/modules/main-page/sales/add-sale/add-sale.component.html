<form [formGroup]="saleGroup" (ngSubmit)="addSale()">
  <span class="p-float-label">
    <input type="text" id="title" pInputText formControlName="title" />
    <label for="title">Заголовок</label>
  </span>
  <span class="p-float-label">
    <textarea
      type="text"
      id="description"
      [rows]="5"
      [cols]="30"
      [autoResize]="true"
      pInputTextarea
      formControlName="description"
    ></textarea>
    <label for="description">Описание</label>
  </span>
  <span class="p-float-label">
    <p-dropdown
      styleClass="w-12"
      inputId="categories"
      [options]="categories"
      optionValue="id"
      optionLabel="name"
      formControlName="categoryId"
      [autoDisplayFirst]="false"
    ></p-dropdown>
    <label for="categories">Целевая категория</label>
  </span>
  <span class="p-float-label" *ngIf="selectedCategory">
    <p-dropdown
      styleClass="w-12"
      inputId="products"
      [options]="selectedCategory.products || []"
      optionValue="id"
      optionLabel="name"
      formControlName="productId"
      [autoDisplayFirst]="false"
    ></p-dropdown>
    <label for="products">Целевой товар (при скидке на товар)</label>
  </span>
  <span class="p-float-label" *ngIf="selectedProduct">
    <p-inputNumber
      class="w-12"
      styleClass="w-12"
      inputId="currentPrice"
      formControlName="currentPrice"
    ></p-inputNumber>
    <label for="currentPrice">Текущая стоимость</label>
  </span>
  <span class="p-float-label" *ngIf="selectedProduct">
    <p-inputNumber
      class="w-12"
      styleClass="w-12"
      inputId="discount"
      formControlName="discount"
      [max]="selectedProduct.price"
    ></p-inputNumber>
    <label for="discount">Новая стоимость</label>
  </span>
  <span class="p-float-label" *ngIf="!selectedProduct">
    <p-inputNumber
      class="w-12"
      styleClass="w-12"
      inputId="discount"
      formControlName="discount"
      [max]="100"
      suffix="%"
    ></p-inputNumber>
    <label for="discount">Скидка, %</label>
  </span>
  <flower-valley-files-upload
    [multi]="false"
    label="Добавить изображение"
    (uploaded)="filesUploaded($event)"
  ></flower-valley-files-upload>
  <p-button type="submit" label="Добавить" [loading]="isLoading"></p-button>
</form>

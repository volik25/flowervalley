<div class="order" *ngIf="order">
  <div class="order__actions">
    <span class="p-buttonset">
      <p-button icon="pi pi-download" label="Смета" (onClick)="getEstimate()"></p-button>
      <p-button
        icon="pi pi-sync"
        styleClass="p-button-info"
        label="Повторить"
        (onClick)="repeatOrder()"
      ></p-button>
      <p-button icon="pi pi-save" label="Сохранить" (onClick)="saveOrder()"></p-button>
    </span>
  </div>
  <div class="order__header">
    <div>
      <div class="order__header_id">
        <div>Номер заказа:</div>
        <div>
          <span>
            {{ order.id }}
          </span>
          <p-tag
            [value]="getStatus(order.status).label"
            [severity]="getStatus(order.status).severity"
          ></p-tag>
        </div>
      </div>
      <div class="order__header_date">
        <div>Дата заказа:</div>
        <div>{{ order.orderDate | date: 'dd.MM.yyyy HH:mm' }}</div>
      </div>
      <div class="order__header_address">
        <div>Адрес доставки:</div>
        <div>{{ order.clientAddress }}</div>
      </div>
      <div class="order__header_products-sum">
        <div>Стоимость товаров:</div>
        <div>{{ getProductsSum() | priceConverter }}</div>
      </div>
      <div class="order__header_boxes-sum">
        <div>Стоимость коробок:</div>
        <div>{{ getBoxesSum() | priceConverter }}</div>
      </div>
      <div class="order__header_delivery" *ngIf="order.deliveryPrice">
        <div>Стоимость доставки:</div>
        <div>{{ order.deliveryPrice | priceConverter }}</div>
      </div>
      <div class="order__header_sum">
        <div>Сумма заказа:</div>
        <div>{{ getOrderSum() | priceConverter }}</div>
      </div>
    </div>
    <div class="order__client">
      <div class="order__client_name">
        <div>Клиент:</div>
        <div>{{ order.clientName }}</div>
      </div>
      <div class="order__client_phone">
        <div>Телефон:</div>
        <div>{{ order.clientPhone }}</div>
      </div>
      <div class="order__client_email">
        <div>Почта:</div>
        <div>{{ order.clientEmail }}</div>
      </div>
    </div>
  </div>
  <div class="order__entity" *ngIf="clientEntity">
    <div>
      <div class="order__entity_name">
        <div>Наименование юридического лица:</div>
        <div>{{ clientEntity.ShortName }}</div>
      </div>
      <div class="order__entity_inn">
        <div>ИНН:</div>
        <div>{{ clientEntity.INN }}</div>
      </div>
    </div>
    <div class="order__entity_account">
      <p-button label="Посмотреть счет" (onClick)="openTelepack()"></p-button>
    </div>
  </div>
  <div class="order__products">
    <flower-valley-products-order [(orderProducts)]="order.products"></flower-valley-products-order>
  </div>
  <div class="order__boxes">
    <flower-valley-boxes-order
      [(orderBoxes)]="order.boxes"
      [products]="order.products"
    ></flower-valley-boxes-order>
  </div>
</div>
